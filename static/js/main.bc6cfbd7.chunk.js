(this["webpackJsonpreact-meetups5"]=this["webpackJsonpreact-meetups5"]||[]).push([[0],{13:function(e,t,n){e.exports={image:"MeetupItem_image__1NY8N",content:"MeetupItem_content__3JjUt",actions:"MeetupItem_actions__i7I9f"}},16:function(e,t,n){e.exports={logo:"MainNavigation_logo__3mTft",active:"MainNavigation_active__oN3Ka",badge:"MainNavigation_badge__QYsXO"}},21:function(e,t,n){e.exports={main:"Layout_main__auk_r"}},22:function(e,t,n){e.exports={card:"Card_card__3_jzl"}},23:function(e,t,n){e.exports={list:"MeetupsList_list__3UjZh"}},28:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(19),s=n.n(i),a=(n(28),n(2)),o=n(7),j=n(11),d=n(0),l=Object(c.createContext)({favorites:[],totalFavorites:0,addFavorite:function(e){},removeFavorite:function(e){},isFavorite:function(e){}});function u(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1];var s={favorites:r,totalFavorites:r.length,addFavorite:function(e){i((function(t){return t.concat(e)}))},removeFavorite:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},isFavorite:function(e){return r.some((function(t){return t.id===e}))}};return Object(d.jsx)(l.Provider,{value:s,children:e.children})}var b=l,O=n(16),h=n.n(O);var x=function(e){var t=Object(c.useContext)(b);return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{className:h.a.logo,children:"Meetups"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/",children:"All meetups"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/new-meetup",children:"New meetup"})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/favorites",children:["Favorites",Object(d.jsx)("span",{className:h.a.badge,children:t.totalFavorites})]})})]})})]})},v=n(21),f=n.n(v);var m=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(x,{}),Object(d.jsx)("main",{className:f.a.main,children:e.children})]})},p=n(12),_=n(22),g=n.n(_);var F=function(e){return Object(d.jsx)("div",{className:g.a.card,children:e.children})},N=n(13),M=n.n(N);var S=function(e){var t=Object(c.useContext)(b),n=t.isFavorite(e.id);return Object(d.jsx)(F,{children:Object(d.jsxs)("li",{children:[Object(d.jsx)("div",{className:M.a.image,children:Object(d.jsx)("img",{src:e.image,alt:e.title})}),Object(d.jsxs)("div",{className:M.a.content,children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsx)("address",{children:e.address}),Object(d.jsx)("p",{children:e.description})]}),Object(d.jsx)("div",{className:M.a.actions,children:Object(d.jsx)("button",{onClick:function(){n?t.removeFavorite(e.id):t.addFavorite(Object(p.a)({},e))},children:n?"Remove from favorites":"To favorites"})})]})})},w=n(23),C=n.n(w);var y=function(e){return Object(d.jsx)("ul",{className:C.a.list,children:e.meetups.map((function(e){return Object(d.jsx)(S,{id:e.id,title:e.title,image:e.image,address:e.address,description:e.description},e.id)}))})};var I=function(e){var t=Object(c.useState)(!0),n=Object(j.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)([]),a=Object(j.a)(s,2),o=a[0],l=a[1];return Object(c.useEffect)((function(){i(!0),fetch("https://react-course-859cd-default-rtdb.firebaseio.com/meetups.json").then((function(e){return e.json()})).then((function(e){l(function(e){var t=[];for(var n in e){var c=Object(p.a)({id:n},e[n]);t.push(c)}return t}(e)),i(!1)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"All meetups"}),r?Object(d.jsx)("p",{children:"Loading..."}):Object(d.jsx)(y,{meetups:o})]})};var T=function(e){var t,n=Object(c.useContext)(b);return t=0===n.totalFavorites?Object(d.jsx)("p",{children:"You have no favorites yet. Start adding some?"}):Object(d.jsx)(y,{meetups:n.favorites}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Favorites"}),t]})},L=n(9),R=n.n(L);var k=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)();return Object(d.jsx)(F,{children:Object(d.jsxs)("form",{onSubmit:function(c){c.preventDefault();var s={title:t.current.value,image:n.current.value,address:r.current.value,description:i.current.value};e.onSubmit(s)},children:[Object(d.jsxs)("div",{className:R.a.control,children:[Object(d.jsx)("label",{htmlFor:"title",children:"Title"}),Object(d.jsx)("input",{type:"text",id:"title",required:!0,ref:t})]}),Object(d.jsxs)("div",{className:R.a.control,children:[Object(d.jsx)("label",{htmlFor:"image",children:"Image URL"}),Object(d.jsx)("input",{type:"url",id:"image",required:!0,ref:n})]}),Object(d.jsxs)("div",{className:R.a.control,children:[Object(d.jsx)("label",{htmlFor:"address",children:"Address"}),Object(d.jsx)("input",{type:"text",id:"address",required:!0,ref:r})]}),Object(d.jsxs)("div",{className:R.a.control,children:[Object(d.jsx)("label",{htmlFor:"description",children:"Description"}),Object(d.jsx)("textarea",{id:"description",required:!0,rows:"5",ref:i})]}),Object(d.jsx)("div",{className:R.a.actions,children:Object(d.jsx)("button",{children:"Save"})})]})})};var q=function(e){var t=Object(a.f)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"New Meetup"}),Object(d.jsx)(k,{onSubmit:function(e){fetch("https://react-course-859cd-default-rtdb.firebaseio.com/meetups.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){t.replace("/")}))}})]})};var J=function(){return Object(d.jsx)(m,{children:Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{path:"/new-meetup",children:Object(d.jsx)(q,{})}),Object(d.jsx)(a.a,{path:"/favorites",children:Object(d.jsx)(T,{})}),Object(d.jsx)(a.a,{path:"/",children:Object(d.jsx)(I,{})})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(u,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(J,{})})})}),document.getElementById("root")),P()},9:function(e,t,n){e.exports={control:"NewMeetupForm_control__xuwh5",actions:"NewMeetupForm_actions__tMvWn"}}},[[38,1,2]]]);
//# sourceMappingURL=main.bc6cfbd7.chunk.js.map